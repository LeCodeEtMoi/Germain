import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.BVOCwoKb.js";import{M as f}from"./MathTex.CH_yJwj9.js";import{s as b,d as S}from"./impureFunctionsAny.generated.BfSy9sv8.js";import"./katex.DavKb-2H.js";/* empty css                         */const l=(e,a)=>Math.floor(Math.random()*(a-e+1))+e,g=[{type:"constant",generate:()=>{const e=l(1,10);return{func:`${e}`,primitive:`${e}x + C`}}},{type:"polynomial",generate:()=>{const e=l(2,5);return{func:`x^${e}`,primitive:`x^${e+1}/${e+1} + C`}}},{type:"reciprocal",generate:()=>({func:"1/x",primitive:"ln|x| + C"})},{type:"inverse_sqrt",generate:()=>({func:"1/sqrt(x)",primitive:"2*sqrt(x) + C"})},{type:"exponential",generate:()=>{const e=l(1,5);return{func:`e^(${e}x)`,primitive:`e^(${e}x)/${e} + C`}}},{type:"cosine",generate:()=>{const e=l(1,5);return{func:`cos(${e}x)`,primitive:`sin(${e}x)/${e} + C`}}},{type:"sine",generate:()=>{const e=l(1,5);return{func:`sin(${e}x)`,primitive:`-cos(${e}x)/${e} + C`}}}],h=e=>{const a=g.map((c,s)=>s).filter(c=>!e[c]),i=a[Math.floor(Math.random()*a.length)];return{index:i,...g[i].generate()}},q=()=>{const[e,a]=u.useState(Array(g.length).fill(!1)),[i,c]=u.useState(()=>h(e)),[s,p]=u.useState(""),[d,m]=u.useState(null),y=()=>{if(C(s,i.func)){const t=[...e];t[i.index]=!0,a(t),t.every(n=>n)?m("üéâ F√©licitations Ma√Ætre ! Vous avez termin√© toutes les int√©grales."):(m("‚úÖ Bonne r√©ponse, Ma√Ætre !"),c(h(t)))}else m(`‚ùå Mauvaise r√©ponse. La bonne r√©ponse √©tait : \\(${i.primitive}\\)`);p("")};function C(t,n){try{const o=b(S(t,"x")),x=b(n);return o.equals(x)}catch(o){return console.error("Erreur de d√©rivation : ",o),!1}}const $=t=>{const n=document.getElementById("primitive-input");if(!n)return;const o=n.selectionStart??0,x=n.selectionEnd??0,v=s,j=v.slice(0,o)+t+v.slice(x);p(j),setTimeout(()=>{n.focus(),n.setSelectionRange(o+t.length,o+t.length)},0)};return r.jsxs("div",{style:{maxWidth:600,margin:"auto",padding:"1rem",fontFamily:"sans-serif"},children:[r.jsx("h3",{children:"üìò Trouvez la primitive de :"}),r.jsx(f,{tex:`f(x) = ${i.func}`}),r.jsx("div",{style:{margin:"1rem 0",display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[{label:"^",insert:"^{x}"},{label:"*",insert:"\\cdot "},{label:"‚àö",insert:"\\sqrt{x}"},{label:"ln|x|",insert:"\\ln{|x|}"},{label:"œÄ",insert:"\\pi"},{label:"e^",insert:"e^{x}"},{label:"sin",insert:"\\sin{x}"},{label:"cos",insert:"\\cos{x}"},{label:"1/3",insert:"\\frac{1}{3}"},{label:"+ C",insert:"+ C"}].map(({label:t,insert:n})=>r.jsx("button",{type:"button",onClick:()=>$(n),style:{padding:"0.3rem 0.6rem",fontSize:"1rem",borderRadius:"0.3rem",border:"1px solid #ccc",backgroundColor:"#f5f5f5",cursor:"pointer"},children:t},t))}),r.jsx("input",{id:"primitive-input",type:"text",value:s,onChange:t=>p(t.target.value),placeholder:"Entrez la primitive de f(x)",style:{padding:"0.5rem",fontSize:"1rem",width:"100%",margin:"1rem 0",boxSizing:"border-box"}}),s&&r.jsxs("div",{style:{marginTop:"1rem"},children:[r.jsx("strong",{children:"Pr√©visualisation : "}),r.jsx(f,{tex:s})]}),r.jsx("button",{onClick:y,style:{backgroundColor:"#4caf50",color:"white",border:"none",padding:"0.5rem 1rem",fontSize:"1rem",cursor:"pointer",borderRadius:"0.5rem"},children:"Valider"}),d&&r.jsx("div",{style:{marginTop:"1rem"},children:r.jsx("p",{children:d.includes("\\")?r.jsx(f,{tex:d}):d})})]})};export{q as default};
