import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as x}from"./index.BVOCwoKb.js";import{g as L}from"./RandomPoint3D.CnP4wnxZ.js";const y=(t,s)=>Math.floor(Math.random()*(s-t+1))+t;function C(){const t=L(-10,10);let s;do s=L(-5,5);while(s.x===0&&s.y===0&&s.z===0);const r=Math.random()>.5;let n,o;if(r){const i=y(-5,5);n={x:t.x+s.x*i,y:t.y+s.y*i,z:t.z+s.z*i},o=!0}else{const i=y(-5,5);n={x:t.x+s.x*i,y:t.y+s.y*i,z:t.z+s.z*i};const c=["x","y","z"][y(0,2)];n[c]+=y(1,3)*(Math.random()>.5?1:-1),o=!1}return{linePointA:t,lineVectorU:s,pointM:n,isPointOnLine:o}}function q(t,s){const r=(n,o=!1)=>{if(n===0)return"";const i=n>0?"+":"-",c=Math.abs(n);return c===1?`${o?i:n>0?"":"-"}t`:`${o?i:n>0?"":"-"}${c}t`};return e.jsx("pre",{className:"is-family-monospace has-background-light p-3",children:`{
  x = ${t.x} ${r(s.x,!0)}
  y = ${t.y} ${r(s.y,!0)}
  z = ${t.z} ${r(s.z,!0)}
(t ∈ ℝ)`})}function V(){const[t,s]=x.useState({x:0,y:0,z:0}),[r,n]=x.useState({x:1,y:1,z:1}),[o,i]=x.useState({x:0,y:0,z:0}),[c,O]=x.useState(!1),[N,$]=x.useState(null);function P(){const{linePointA:h,lineVectorU:a,pointM:l,isPointOnLine:u}=C();s(h),n(a),i(l),O(u),$(null)}x.useEffect(()=>{P()},[]);function M(h){if(h)return e.jsx("p",{children:"🎉 Bravo Maître, la réponse est correcte !"});const{x:a,y:l,z:u}=o,{x:p,y:m,z:f}=t,{x:g,y:v,z}=r,d=[];if(g!==0){const j=(a-p)/g;d.push(e.jsx("p",{children:`${a} = ${p} + ${g}t → ${g}t = ${a-p} → t = ${j.toFixed(2)}`}))}else d.push(e.jsxs("p",{children:["Pour x, on vérifie si ",a," = ",p,". C'est ",a===p?"vrai":"faux","."]}));if(v!==0){const j=(l-m)/v;d.push(e.jsx("p",{children:`${l} = ${m} + ${v}t → ${v}t = ${l-m} → t = ${j.toFixed(2)}`}))}else d.push(e.jsxs("p",{children:["Pour y, on vérifie si ",l," = ",m,". C'est ",l===m?"vrai":"faux","."]}));if(z!==0){const j=(u-f)/z;d.push(e.jsx("p",{children:`${u} = ${f} + ${z}t → ${z}t = ${u-f} → t = ${j.toFixed(2)}`}))}else d.push(e.jsxs("p",{children:["Pour z, on vérifie si ",u," = ",f,". C'est ",u===f?"vrai":"faux","."]}));const k=c?"Le point est sur la droite mais vous avez répondu non.":"Le point n'est pas sur la droite mais vous avez répondu oui.";return e.jsxs("div",{className:"content",children:[e.jsxs("p",{children:["❌ Oups, une erreur s'est glissée, Maître. ",k]}),e.jsx("p",{children:e.jsx("strong",{children:"Explication :"})}),e.jsx("p",{children:"On cherche s'il existe un réel 't' qui satisfait les trois équations simultanément :"}),d,e.jsx("p",{children:"Pour que le point appartienne à la droite, il faut trouver la même valeur de 't' pour chaque équation (ou que les coordonnées fixes correspondent)."}),e.jsxs("p",{children:["La bonne réponse était : ",e.jsx("strong",{children:c?"Oui":"Non"}),"."]})]})}function b(h){$(h===c?{correct:!0,message:M(!0)}:{correct:!1,message:M(!1)})}return e.jsx("div",{className:"columns is-centered mt-6",children:e.jsx("div",{className:"column is-two-thirds",children:e.jsxs("div",{className:"box content",children:[e.jsx("h2",{className:"title is-4",children:"Le point M appartient-il à la droite (Δ) ?"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Point M :"})," (",`${o.x}; ${o.y}; ${o.z}`,")"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Représentation paramétrique de (Δ) :"}),q(t,r)]})]}),e.jsxs("div",{className:"field is-grouped is-grouped-centered",children:[e.jsx("div",{className:"control",children:e.jsx("button",{className:"button is-success",onClick:()=>b(!0),children:"Oui"})}),e.jsx("div",{className:"control",children:e.jsx("button",{className:"button is-danger",onClick:()=>b(!1),children:"Non"})})]}),e.jsx("div",{className:"field is-grouped is-grouped-centered mt-4",children:e.jsx("div",{className:"control",children:e.jsx("button",{className:"button is-light",onClick:P,children:"Nouvel exercice"})})}),N&&e.jsxs("div",{className:`notification ${N.correct?"is-success":"is-danger"} is-light mt-4`,children:[e.jsx("button",{className:"delete",onClick:()=>$(null)}),N.message]})]})})})}export{V as default};
