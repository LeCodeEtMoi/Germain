import{j as i}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.BVOCwoKb.js";import{w as P,i as C,c as I,L as _,C as A,X as K,Y as V,T as X,a as Y}from"./LineChart.DxM1EjdN.js";import{g as B}from"./_commonjsHelpers.gnU0ypJ3.js";import"./index.Bv2DO4vj.js";var R={},W={},H;function G(){return H||(H=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function n(t,r=0,l={}){typeof l!="object"&&(l={});let a=null,f=null,h=null,d=0,u=null,m;const{leading:w=!1,trailing:k=!0,maxWait:b}=l,x="maxWait"in l,j=x?Math.max(Number(b)||0,r):0,y=s=>(a!==null&&(m=t.apply(f,a)),a=f=null,d=s,m),O=s=>(d=s,u=setTimeout(p,r),w&&a!==null?y(s):m),S=s=>(u=null,k&&a!==null?y(s):m),T=s=>{if(h===null)return!0;const o=s-h,g=o>=r||o<0,M=x&&s-d>=j;return g||M},N=s=>{const o=h===null?0:s-h,g=r-o,M=j-(s-d);return x?Math.min(g,M):g},p=()=>{const s=Date.now();if(T(s))return S(s);u=setTimeout(p,N(s))},v=function(...s){const o=Date.now(),g=T(o);if(a=s,f=this,h=o,g){if(u===null)return O(o);if(x)return clearTimeout(u),u=setTimeout(p,r),y(o)}return u===null&&(u=setTimeout(p,r)),m};return v.cancel=()=>{u!==null&&clearTimeout(u),d=0,h=a=f=u=null},v.flush=()=>u===null?m:S(Date.now()),v}e.debounce=n}(W)),W}var q;function U(){return q||(q=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const n=G();function t(r,l=0,a={}){const{leading:f=!0,trailing:h=!0}=a;return n.debounce(r,l,{leading:f,maxWait:l,trailing:h})}e.throttle=t}(R)),R}var E,$;function J(){return $||($=1,E=U().throttle),E}var Q=J();const Z=B(Q);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?F(Object(t),!0).forEach(function(r){ee(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ee(e,n,t){return(n=te(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function te(e){var n=ne(e,"string");return typeof n=="symbol"?n:n+""}function ne(e,n){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var re=c.forwardRef((e,n)=>{var{aspect:t,initialDimension:r={width:-1,height:-1},width:l="100%",height:a="100%",minWidth:f=0,minHeight:h,maxHeight:d,children:u,debounce:m=0,id:w,className:k,onResize:b,style:x={}}=e,j=c.useRef(null),y=c.useRef();y.current=b,c.useImperativeHandle(n,()=>j.current);var[O,S]=c.useState({containerWidth:r.width,containerHeight:r.height}),T=c.useCallback((p,v)=>{S(s=>{var o=Math.round(p),g=Math.round(v);return s.containerWidth===o&&s.containerHeight===g?s:{containerWidth:o,containerHeight:g}})},[]);c.useEffect(()=>{var p=g=>{var M,{width:L,height:z}=g[0].contentRect;T(L,z),(M=y.current)===null||M===void 0||M.call(y,L,z)};m>0&&(p=Z(p,m,{trailing:!0,leading:!1}));var v=new ResizeObserver(p),{width:s,height:o}=j.current.getBoundingClientRect();return T(s,o),v.observe(j.current),()=>{v.disconnect()}},[T,m]);var N=c.useMemo(()=>{var{containerWidth:p,containerHeight:v}=O;if(p<0||v<0)return null;P(C(l)||C(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,a),P(!t||t>0,"The aspect(%s) must be greater than zero.",t);var s=C(l)?p:l,o=C(a)?v:a;return t&&t>0&&(s?o=s/t:o&&(s=o*t),d&&o>d&&(o=d)),P(s>0||o>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,s,o,l,a,f,h,t),c.Children.map(u,g=>c.cloneElement(g,{width:s,height:o,style:D({width:s,height:o},g.props.style)}))},[t,u,a,d,h,f,O,l]);return c.createElement("div",{id:w?"".concat(w):void 0,className:I("recharts-responsive-container",k),style:D(D({},x),{},{width:l,height:a,minWidth:f,minHeight:h,maxHeight:d}),ref:j},c.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))});function ie(e,n,t){const r=[];for(let l=0;l<e;l++){const a=Math.random(),f=Math.random(),h=Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*f),d=n+t*h;r.push(Number(d.toFixed(2)))}return r}function se(e){const n=[];let t=0;for(let r=1;r<=e.length;r++)t+=e[r-1],n.push({k:r,Mk:Number((t/r).toFixed(2))});return n}function he(){const[e]=c.useState(Math.floor(Math.random()*10+5)),[n]=c.useState(Math.floor(Math.random()*3+1)),[t]=c.useState(Math.floor(Math.random()*21+30)),[r,l]=c.useState([]),[a,f]=c.useState([]),[h,d]=c.useState(""),[u,m]=c.useState(null);c.useEffect(()=>{const b=ie(t,e,n);l(b),f(se(b))},[t,e,n]);const w=()=>{const b=parseFloat(h);if(isNaN(b)){m("Veuillez entrer un nombre réel, Maître.");return}if(a.length===0){m("Erreur : données non prêtes, veuillez réessayer.");return}a[a.length-1].Mk,Math.abs(b-e)<.5?m(`✅ Excellente estimation, Maître ! L’espérance réelle est ${e}.`):m(`❌ Ce n’est pas exact, Maître. L’espérance est ${e}, vous avez proposé ${b}.`)},k=()=>{window.location.reload()};return i.jsxs("div",{className:"box content",children:[i.jsx("h2",{className:"title is-4",children:"Loi des grands nombres"}),i.jsxs("p",{children:["On considère un échantillon de ",i.jsx("strong",{children:t})," variables aléatoires indépendantes de même espérance ",i.jsx("strong",{children:"µ"}),". Leur écart-type est σ = ",i.jsx("strong",{children:n}),"."]}),i.jsxs("p",{children:["On note M",i.jsx("sub",{children:"k"})," = (X₁ + ... + X",i.jsx("sub",{children:"k"}),") / k. Voici son évolution :"]}),a.length>0?i.jsx(re,{width:"100%",height:300,children:i.jsxs(_,{data:a,children:[i.jsx(A,{stroke:"#ccc"}),i.jsx(K,{dataKey:"k"}),i.jsx(V,{domain:["auto","auto"]}),i.jsx(X,{}),i.jsx(Y,{type:"monotone",dataKey:"Mk",stroke:"#3273dc",dot:!1})]})}):i.jsx("p",{children:"Chargement du graphique…"}),i.jsxs("div",{className:"field mt-4",children:[i.jsx("label",{className:"label",children:"Votre estimation de µ :"}),i.jsx("input",{type:"number",className:"input",value:h,onChange:b=>d(b.target.value)})]}),i.jsxs("div",{className:"buttons mt-3",children:[i.jsx("button",{className:"button is-primary",onClick:w,children:"Valider"}),i.jsx("button",{className:"button is-light",onClick:k,children:"Nouvel exercice"})]}),u&&i.jsx("div",{className:"notification is-info mt-4",children:u}),a.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"title is-5",children:"Correction"}),i.jsxs("p",{children:["L’espérance réelle µ = ",i.jsx("strong",{children:e}),"."]}),i.jsxs("p",{children:["La moyenne empirique M",i.jsx("sub",{children:"n"})," ≈ ",i.jsx("strong",{children:a[a.length-1].Mk}),"."]}),i.jsxs("p",{children:["La loi des grands nombres assure que M",i.jsx("sub",{children:"n"})," converge vers µ quand n devient grand."]})]})]})}export{he as default};
