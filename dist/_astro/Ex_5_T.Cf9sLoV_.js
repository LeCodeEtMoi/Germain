import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.BVOCwoKb.js";import"./mathlive.min.CsOZeI73.js";function d(t,s){return Math.floor(Math.random()*(s-t+1))+t}function u(){const t=d(2,10),s=d(2,5),n=`${t}x^{${s}}`,a=`${t*s}x^{${s-1}}`;return{funcLatex:n,derivativeLatex:a}}function v(){const[t,s]=r.useState(u()),[n,a]=r.useState(""),[o,i]=r.useState(null),l=r.useRef(null);r.useEffect(()=>{l.current&&n!==l.current.getValue("latex")&&l.current.setValue(n)},[n]);function x(){const c=h=>h.replace(/\s+/g,"").toLowerCase();c(n)===c(t.derivativeLatex)?i({correct:!0,message:e.jsx("p",{children:"🎉 Excellent! C'est la bonne dérivée."})}):i({correct:!1,message:e.jsxs("div",{children:[e.jsx("p",{children:"❌ Ce n'est pas tout à fait ça. Essayez encore !"}),e.jsxs("p",{children:["Rappel : La dérivée de ",e.jsx("strong",{children:"ax^n"})," est ",e.jsx("strong",{children:"anx^(n-1)"}),"."]}),e.jsxs("p",{children:["La bonne réponse est : ",e.jsx("strong",{children:t.derivativeLatex})]})]})})}function m(){s(u()),a(""),i(null)}return e.jsx("div",{className:"columns is-centered mt-6",children:e.jsx("div",{className:"column is-two-thirds",children:e.jsxs("div",{className:"box content",children:[e.jsx("h2",{className:"title is-4",children:"Exercice de Dérivation"}),e.jsx("p",{children:"Trouvez la fonction dérivée de la fonction suivante :"}),e.jsx("p",{className:"has-text-centered has-text-weight-bold",children:e.jsx("math-field",{"read-only":!0,static:!0,value:t.funcLatex,style:{fontSize:"1.5rem"}})}),e.jsx("label",{className:"label",htmlFor:"userInput",children:"f'(x) ="}),e.jsx("math-field",{id:"userInput",ref:l,"virtual-keyboard-mode":"manual",style:{width:"100%",minHeight:"3rem",fontSize:"1.3rem"},onInput:c=>a(c.target.getValue("latex"))}),e.jsxs("div",{className:"field is-grouped is-grouped-centered mt-4",children:[e.jsx("button",{className:"button is-primary",onClick:x,children:"Valider"}),e.jsx("button",{className:"button is-light",onClick:m,children:"Nouvel exercice"})]}),o&&e.jsxs("div",{className:`notification ${o.correct?"is-success":"is-danger"} is-light mt-4`,children:[e.jsx("button",{className:"delete",onClick:()=>i(null)}),o.message]})]})})})}export{v as default};
